# VIM 使用说明笔记总结

## 一、基础使用

1. 使用vim打开/创建文件 

在命令行当前路径下输入：

```bash
vim xxx(文件名)
```

2. 保存文件并退出vim

在***<u>正常模式</u>***下输入：

```bash
:wq
```

3. 在不想保存的情况下强制退出vim

在***<u>正常模式</u>***下输入：

```bash	
:q!
```

## 二、VIM编译中的操作

### 一、插入模式、正常模式与视图模式

​        在vim编译器中有多种编译模式，其中最常用的比如**命令模式、插入模式、正常模式和视图模式**，在进入vim后默认进入正常模式，该模式下无法直接键入数据，可以按 “**i**” 或 “**A**” 键进入插入模式对代码进行修改，当想要退出插入模式进入正常模式，可以按 **Esc** 键退回正常模式，视图模式不提供修改，但可以选中代码进行修改。

### 二、正常模式下的便捷操作作	

  在正常模式下有几种方便的，不需要切换模式的快捷操作：

1. 当没有鼠标或者方向键无法使用时（或敲击代码时）可以使用 。

```bash
h （向左移动光标） j（向下移动光标）k （向上移动光标）l（向右移动光标）
```

2. 使用以下命令来完成相应操作

```bash
2w  --使光标向前移动两个单词
3e  --使光标向前移动到第三个单词的末尾
0  --移动光标到行首
```

3. 输入 **u** 来撤销最后执行的命令，输入 **U** 来撤销对整行的更改。

```bash
u  --撤销最后执行的命令
U  --撤销对整行的修改
CTRL+R --可以重做被撤销的命令。
CTRL+V --可以进行可视块操作
CTRL+Z --将进程挂起
fg --返回前台
```



### 三、正常模式下的删除操作

  在正常模式下有几种方便的，不需要切换模式的删除代码的方式。

| 删除操作 | 作用                                               |
| -------- | -------------------------------------------------- |
| dw       | 从光标处删除至一个单词的末尾，不包括最后一个字符。 |
| d$       | 从当前光标删除到行末。                             |
| de       | 从光标处删除到该单词末尾，包括最后一个字符。       |
| dd       | 删除当前一个整行                                   |
| 2dd      | 删除接下来两行                                     |
| x        | 删除光标所在位置的字符                             |
| d^       | 删除到行首                                         |
| dG       | 删除到文件尾                                       |
| dnG      | 删除到第n行                                        |

### 四、正常模式下其他类命令

| 置入类命令 | 作用                           |
| ---------- | ------------------------------ |
| p          | 将寄存器中的数据粘贴到该行上方 |
| y          | 复制文本                       |
| yy         | 复制一行                       |
| yG         | 复制到文件尾                   |
| ynG        | 复制到第n行                    |
| y$         | 复制到行末                     |
| y^         | 复制到行首                     |

| 替换类命令       | 作用                                       |
| ---------------- | ------------------------------------------ |
| r                | 把光标出的字符用输出替换掉                 |
| :1,16s/old/new/g | 替换操作1到16行中的每个old                 |
| :%s/old/new/g    | 替换整个文件中的每个字符串                 |
| :%s/old/new/gc   | 找到文件中每个匹配串，并对每个提示是否替换 |
| R                | 输入大写的 R 可连续替换多个字符。          |

| 更改类命令 | 作用                   |
| ---------- | ---------------------- |
| cw         | 修改接下来的代码       |
| c$         | 修改结下来的代码到行末 |
| cc         | 修改一行               |
| cG         | 修改到文件尾           |
| c^         | 修改到文件头           |

| 打开类命令 | 作用                                                   |
| ---------- | ------------------------------------------------------ |
| o          | 输入 o 将在光标的**下一行**开始插入并进入插入模式。    |
| O          | 在光标所在位置的**上一行**打开新行输入并进入插入模式。 |
| A          | 在一行的**结尾**处进行追加并进入插入模式。             |
| a          | 在光标**之后**进行追加并进入插入模式。                 |
| i          | 在光标**之前**插入并进入插入模式。                     |
| I          | 在一行的**开头**处插入并进入插入模式。                 |

### 五、其他内部命令

| 命令          | 作用                                 |
| ------------- | ------------------------------------ |
| CTRL+G        | 查看光标当前所在位置以及文件状态信息 |
| G             | 跳转到文件最后一行                   |
| gg            | 跳转到文件第一行                     |
| 6 G           | 跳转到文件第6行                      |
| /xxxx         | 在当前文件中查找该字符串             |
| %             | 查找与当前光标配对的括号             |
| :/s/old/new/g | 将所有old替换成new                   |
| :help         | 使用在线帮助系统                     |
| ngg           | 移动光标到第n行                      |

### 六：VIM命令模式

| 命令                  | 说明                   |
| --------------------- | ---------------------- |
| :w :q :wq :x :wq! :q! | 文件的保存与退出操作   |
| :args                 | 显示文件名称，切换文件 |
| :e foo.txt            | 打开foo.txt            |
| :saveas ~/foo.txt     | 另存为~/foo.txt        |
| :split :vsplit        | 切分窗口               |
| :set                  | 设置选项               |

